// Copyright (c) 2007 John Fraser.
// Original Markdown Copyright (c) 2004-2005 John Gruber
var Showdown={};Showdown.converter=function(){var e,r,n,t=0;this.makeHtml=function(t){return e=new Array,r=new Array,n=new Array,t=t.replace(/~/g,"~T"),t=t.replace(/\$/g,"~D"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),t="\n\n"+t+"\n\n",t=q(t),t=t.replace(/^[ \t]+$/gm,""),t=i(t),t=u(t),t=l(t),t=K(t),t=t.replace(/~D/g,"$$"),t=t.replace(/~T/g,"~"),t=t.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g,function(e,r){var n=t.slice(0,r),a=t.slice(r);if(n.match(/<[^>]+$/)&&a.match(/^[^>]*>/))return e;var c=e.replace(/^http:\/\/github.com\//,"https://github.com/");return"<a href='"+c+"'>"+e+"</a>"}),t=t.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/gi,function(e){return"<a href='mailto:"+e+"'>"+e+"</a>"}),t=t.replace(/[a-f0-9]{40}/gi,function(e,r){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return e;var n=t.slice(0,r),a=t.slice(r);return n.match(/@$/)||n.match(/<[^>]+$/)&&a.match(/^[^>]*>/)?e:"<a href='http://github.com/"+GitHub.nameWithOwner+"/commit/"+e+"'>"+e.substring(0,7)+"</a>"}),t=t.replace(/([a-z0-9_\-+=.]+)@([a-f0-9]{40})/gi,function(e,r,n,a){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return e;GitHub.repoName=GitHub.repoName||c();var u=t.slice(0,a),i=t.slice(a);return u.match(/\/$/)||u.match(/<[^>]+$/)&&i.match(/^[^>]*>/)?e:"<a href='http://github.com/"+r+"/"+GitHub.repoName+"/commit/"+n+"'>"+r+"@"+n.substring(0,7)+"</a>"}),t=t.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)@([a-f0-9]{40})/gi,function(e,r,n){return"<a href='http://github.com/"+r+"/commit/"+n+"'>"+r+"@"+n.substring(0,7)+"</a>"}),t=t.replace(/#([0-9]+)/gi,function(e,r,n){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return e;var a=t.slice(0,n),c=t.slice(n);return""==a||a.match(/[a-z0-9_\-+=.]$/)||a.match(/<[^>]+$/)&&c.match(/^[^>]*>/)?e:"<a href='http://github.com/"+GitHub.nameWithOwner+"/issues/#issue/"+r+"'>"+e+"</a>"}),t=t.replace(/([a-z0-9_\-+=.]+)#([0-9]+)/gi,function(e,r,n,a){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return e;GitHub.repoName=GitHub.repoName||c();var u=t.slice(0,a),i=t.slice(a);return u.match(/\/$/)||u.match(/<[^>]+$/)&&i.match(/^[^>]*>/)?e:"<a href='http://github.com/"+r+"/"+GitHub.repoName+"/issues/#issue/"+n+"'>"+e+"</a>"}),t=t.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)#([0-9]+)/gi,function(e,r,n){return"<a href='http://github.com/"+r+"/issues/#issue/"+n+"'>"+e+"</a>"})};var a,c=function(){return GitHub.nameWithOwner.match(/^.+\/(.+)$/)[1]},u=function(n){var n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(n,t,a,c,u){return t=t.toLowerCase(),e[t]=A(a),c?c+u:(u&&(r[t]=u.replace(/"/g,"&quot;")),"")});return n},i=function(e){return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,p),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,p),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,p),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,p),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,p),e=e.replace(/\n\n/g,"\n")},p=function(e,r){var t=r;return t=t.replace(/\n\n/g,"\n"),t=t.replace(/^\n/,""),t=t.replace(/\n+$/g,""),t="\n\n~K"+(n.push(t)-1)+"K\n\n"},l=function(e){e=d(e);var r=b("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=v(e),e=$(e),e=G(e),e=i(e),e=z(e)},o=function(e){return e=w(e),e=g(e),e=y(e),e=m(e),e=f(e),e=S(e),e=A(e),e=H(e),e=e.replace(/  +\n/g," <br />\n")},g=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=O(r,"\\`*_")})},f=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,h)},h=function(n,t,a,c,u,i,p,l){void 0==l&&(l="");var o=t,g=a,f=c.toLowerCase(),h=u,m=l;if(""==h)if(""==f&&(f=g.toLowerCase().replace(/ ?\n/g," ")),h="#"+f,void 0!=e[f])h=e[f],void 0!=r[f]&&(m=r[f]);else{if(!(o.search(/\(\s*\)$/m)>-1))return o;h=""}h=O(h,"*_");var s='<a href="'+h+'"';return""!=m&&(m=m.replace(/"/g,"&quot;"),m=O(m,"*_"),s+=' title="'+m+'"'),s+=">"+g+"</a>"},m=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s)},s=function(n,t,a,c,u,i,p,l){var o=t,g=a,f=c.toLowerCase(),h=u,m=l;if(m||(m=""),""==h){if(""==f&&(f=g.toLowerCase().replace(/ ?\n/g," ")),h="#"+f,void 0==e[f])return o;h=e[f],void 0!=r[f]&&(m=r[f])}g=g.replace(/"/g,"&quot;"),h=O(h,"*_");var s='<img src="'+h+'" alt="'+g+'"';return m=m.replace(/"/g,"&quot;"),m=O(m,"*_"),s+=' title="'+m+'"',s+=" />"},d=function(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,r){return b("<h1>"+o(r)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,r){return b("<h2>"+o(r)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,r,n){var t=r.length;return b("<h"+t+">"+o(n)+"</h"+t+">")})},v=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return t?e=e.replace(r,function(e,r,n){var t=r,c=n.search(/[*+-]/g)>-1?"ul":"ol";t=t.replace(/\n{2,}/g,"\n\n\n");var u=a(t);return u=u.replace(/\s+$/,""),u="<"+c+">"+u+"</"+c+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,n,t){var c=r,u=n,i=t.search(/[*+-]/g)>-1?"ul":"ol",u=u.replace(/\n{2,}/g,"\n\n\n"),p=a(u);return p=c+"<"+i+">\n"+p+"</"+i+">\n"})),e=e.replace(/~0/,"")};a=function(e){return t++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,n,t,a){var c=a,u=r;return u||c.search(/\n{2,}/)>-1?c=l(E(c)):(c=v(E(c)),c=c.replace(/\n$/,""),c=o(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),t--,e};var $=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,n){var t=r,a=n;return t=_(E(t)),t=q(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>",b(t)+a}),e=e.replace(/~0/,"")},b=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.push(e)-1)+"K\n\n"},w=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,n,t){var a=t;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=_(a),r+"<code>"+a+"</code>"})},_=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=O(e,"*_{}[]\\",!1)},H=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\w)_(\w)/g,"$1~E95E$2"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},G=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var n=r;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=l(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var n=r;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),b("<blockquote>\n"+n+"\n</blockquote>")})},z=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),t=new Array,a=r.length,c=0;a>c;c++){var u=r[c];u.search(/~K(\d+)K/g)>=0?t.push(u):u.search(/\S/)>=0&&(u=o(u),u=u.replace(/\n/g,"<br />"),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",t.push(u))}a=t.length;for(var c=0;a>c;c++)for(;t[c].search(/~K(\d+)K/)>=0;){var i=n[RegExp.$1];i=i.replace(/\$/g,"$$$$"),t[c]=t[c].replace(/~K\d+K/,i)}return t.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},y=function(e){return e=e.replace(/\\(\\)/g,W),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,W)},S=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return C(K(r))})},C=function(e){function r(e){var r="0123456789ABCDEF",n=e.charCodeAt(0);return r.charAt(n>>4)+r.charAt(15&n)}var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+r(e)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=n[Math.floor(2*Math.random())](e);else if(":"!=e){var r=Math.random();e=r>.9?n[2](e):r>.45?n[1](e):n[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},K=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var n=parseInt(r);return String.fromCharCode(n)})},E=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},q=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r){for(var n=r,t=4-n.length%4,a=0;t>a;a++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},O=function(e,r,n){var t="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,W)},W=function(e,r){var n=r.charCodeAt(0);return"~E"+n+"E"}};